(function(e){function t(t){for(var n,o,a=t[0],l=t[1],c=t[2],p=0,h=[];p<a.length;p++)o=a[p],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,a=1;a<i.length;a++){var l=i[a];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},s={app:0},r=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("v-main",[i("Home")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[i("v-row",[i("v-col",[i("v-textarea",{attrs:{outlined:"",title:"文本框",label:"请输入文本",rows:"8",autofocus:"",loading:!!e.speaking&&"warning"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),i("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("v-row",[i("v-col",{staticClass:"pb-1"},[i("v-select",{attrs:{dense:"",label:"请选择语音",outlined:"",items:e.voiceList},model:{value:e.selectedVoiceItem,callback:function(t){e.selectedVoiceItem=t},expression:"selectedVoiceItem"}})],1)],1),i("v-row",e._l([e.rate,e.pitch],(function(t){return i("v-col",{key:t.label,staticClass:"pt-0"},[i("v-slider",{staticClass:"pr-5",attrs:{label:t.label,"persistent-hint":"",hint:t.hint,"thumb-label":"","thumb-size":"24","tick-size":"4",ticks:"","track-fill-color":"success",max:"2",min:"0",step:"0.1"},scopedSlots:e._u([{key:"append",fn:function(){return[i("span",{staticStyle:{width:"5px"}},[e._v(e._s(t.val))])]},proxy:!0}],null,!0),model:{value:t.val,callback:function(i){e.$set(t,"val",i)},expression:"ex.val"}})],1)})),1)],1),i("v-col",{attrs:{cols:"4"}},[i("v-btn",{staticClass:"py-5 mb-5",attrs:{color:e.speaking?"red":"primary",outlined:"",block:""},on:{click:function(t){e.speaking?e.stopSpeak():e.speak()}}},[e._v(e._s(e.speaking?"停止":"朗读"))]),i("v-btn",{staticClass:"py-5",attrs:{color:"primary",block:""},on:{click:e.record}},[i("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.recording,expression:"recording"}],staticClass:"mr-2",attrs:{small:""}},[e._v("mdi-image-filter-tilt-shift mdi-spin")]),e._v("录制 ")],1)],1)],1)],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("h3",[e._v("设置")])]),i("v-col",{attrs:{cols:"8"}},[i("v-text-field",{attrs:{outlined:"",label:"录制文件存放到此文件夹下",dense:"",readonly:"","persistent-hint":"",hint:"文件名示例：2002-11-12 22.33.44-Record.wav"},on:{click:e.getFileDir},model:{value:e.fileDir,callback:function(t){e.fileDir=t},expression:"fileDir"}})],1),i("v-col",{attrs:{cols:"3"}},[i("v-text-field",{attrs:{type:"number",outlined:"",label:"最大录制时间",dense:"","persistent-hint":"",hint:"单位: 分钟, 默认值为 30"},model:{value:e.maxTime,callback:function(t){e.maxTime=t},expression:"maxTime"}})],1)],1)],1)},a=[],l=(i("b0c0"),i("a47d")),c=i.n(l),u={data:function(){return{text:"",selectedVoiceItem:"0",synth:window.speechSynthesis,voiceList:[],voices:[],utterThis:null,rate:{label:"速度",val:1,hint:""},pitch:{label:"音调",val:1,hint:"此项可能是无效的"},speaking:!1,recording:!1,fileDir:"",maxTime:30}},created:function(){var e=this;setTimeout((function(){e.populateVoiceList()}),400),this.fileDir=c.a.getFileDir("./").then((function(t){e.fileDir=t}))},methods:{populateVoiceList:function(){for(var e in this.voices=this.synth.getVoices().sort((function(e,t){var i=e.name.toUpperCase(),n=t.name.toUpperCase();return i<n?-1:i==n?0:1})),this.voices)this.voiceList.push({value:e,text:this.voices[e].name+" ("+this.voices[e].lang+")"}),this.voiceList[e].text.indexOf("Xiaoxiao")>=0&&(this.selectedVoiceItem=e+"")},speak:function(){var e=this;this.speaking=!0,this.synth.speaking?console.error("speechSynthesis.speaking"):(""==this.text&&(this.text="请先输入要朗读的文本"),this.utterThis=new SpeechSynthesisUtterance(this.text),this.utterThis.onend=function(){console.log("SpeechSynthesisUtterance.onend"),e.speaking=!1,e.recording&&(e.recording=!1,c.a.stopRecord())},this.utterThis.onerror=function(){console.error("SpeechSynthesisUtterance.onerror")},this.utterThis.voice=this.voices[this.selectedVoiceItem],this.utterThis.rate=this.rate.val,this.utterThis.pitch=this.pitch.val,this.synth.speak(this.utterThis))},stopSpeak:function(){this.synth.pause(),this.synth.cancel()},record:function(){c.a.startRecord(this.fileDir,this.maxTime?60*this.maxTime:1800),this.recording=!0,this.speak()},getFileDir:function(){var e=this;c.a.getFileDir().then((function(t){e.fileDir=t}))}}},p=u,h=i("2877"),v=i("6544"),f=i.n(v),d=i("8336"),m=i("62ad"),b=i("a523"),x=i("132d"),y=i("0fd9"),g=i("b974"),k=i("ba0d"),w=i("8654"),T=i("a844"),V=Object(h["a"])(p,o,a,!1,null,null,null),S=V.exports;f()(V,{VBtn:d["a"],VCol:m["a"],VContainer:b["a"],VIcon:x["a"],VRow:y["a"],VSelect:g["a"],VSlider:k["a"],VTextField:w["a"],VTextarea:T["a"]});var _={name:"App",components:{Home:S},data:function(){return{}}},O=_,D=i("7496"),j=i("f6c4"),C=Object(h["a"])(O,s,r,!1,null,null,null),I=C.exports;f()(C,{VApp:D["a"],VMain:j["a"]});var P=i("f309");n["a"].use(P["a"]);var L=new P["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:L,render:function(e){return e(I)}}).$mount("#app")}});
//# sourceMappingURL=app.026c53a3.js.map